!function(){"use strict";angular.module("andresshop",["ngMaterial","ngResource","angular-lodash","andresshop.products","ngRoute","mdDataTable"]).config(["$mdThemingProvider","$mdIconProvider","$routeProvider","$locationProvider",function(e,t,r,a){r.when("/",{templateUrl:"main.html"}).when("/cart",{templateUrl:"cart.html"}),t.defaultIconSet("./assets/svg/avatars.svg",128).icon("star","./assets/svg/star.svg",24).icon("error","./assets/svg/error.svg",24).icon("check","./assets/svg/check.svg",24).icon("filter","./assets/svg/filter.svg",24).icon("search","./assets/svg/search.svg",24).icon("cart","./assets/svg/cart.svg",24).icon("remove_cart","./assets/svg/remove_cart.svg",24).icon("add_cart","./assets/svg/add_cart.svg",24).icon("menu","./assets/svg/menu.svg",24).icon("share","./assets/svg/share.svg",24).icon("google_plus","./assets/svg/google_plus.svg",512).icon("hangouts","./assets/svg/hangouts.svg",512).icon("twitter","./assets/svg/twitter.svg",512).icon("phone","./assets/svg/phone.svg",512),e.theme("default").primaryPalette("deep-orange").accentPalette("blue").warnPalette("red"),e.enableBrowserColor({theme:"default",palette:"deep-orange",hue:"800"})}]).constant("_",window._)}(),function(){"use strict";angular.module("andresshop.products",["ngMaterial","andresshop.cart"])}(),function(){"use strict";angular.module("andresshop.cart",["ngMaterial"])}(),function(){"use strict";function e(e,t,r,a,o,s,c,n,i,l){function u(e){n.addToCart(e),v.showSimpleToast("Added to cart")}function d(){return s.sum(v.cartItems,function(e){return e.cant*e.price})}function g(){t("left").toggle(),console.log("lok",t("left").isLockedOpen())}function p(e){var t=e?v.categoriesAC.filter(h(e)):v.categoriesAC;return t}function h(e){var t=angular.lowercase(e);return function(e){return 0===e.value.indexOf(t)}}var v=this;v.search,v.searchR,v.orderBy=null,v.selected=null,v.products=[],v.categories=[],v.toggleList=g,v.apiUrl=e.apiUrl,v.searchText=null,v.selectedItem=null,v.categoriesAC=[],v.querySearch=p,v.searchProd=void 0;var f;v.addToCart=u,v.cartItems=n.cartArray,v.totalItem=d,v.getNewProductsFromHttpServer=function(e){var t=l.confirm().title("Reset Cart").textContent("This will reset the carts contents and fetch new data").ariaLabel("Lucky day").targetEvent(e).ok("Ok ").cancel("Cancel");l.show(t).then(function(){n.cartArray.length=0,v.cleanProductVariables(),v.getProducts()},function(){})},v.changeAPI=function(e){var t=l.prompt().title("Place the Url of the API").placeholder("API Url").ariaLabel("API Url").initialValue("").targetEvent(e).ok("Go").cancel("Cancel");l.show(t).then(function(e){v.apiUrl=e,v.getNewProductsFromHttpServer()},function(){})},v.showSimpleToast=function(e){i.show(i.simple().textContent(e).position("top right").hideDelay(500))},v.deleteRowCallback=function(e){console.log("rows",e),s.remove(v.cartItems,function(t){return s.contains(e,t.id)}),console.log("items",v.cartItems)},v.cleanProductVariables=function(){v.products=[],v.categories=[],v.categoriesAC=[]},v.getProducts=function(){e.getProducts(v.apiUrl).get({}).$promise.then(function(e){v.products=e.products,v.categories=s.pluck(e.categories,"name");for(var t=0;t<v.products.length;t++){v.products[t].price=parseInt(v.products[t].price);for(var r=0;r<v.products[t].categories.length;r++)v.products[t].categories[r]=s.result(s.find(e.categories,function(e){return e.categori_id==v.products[t].categories[r]}),"name")}for(var t=0;t<v.categories.length;t++)v.categoriesAC.push({display:v.categories[t],value:v.categories[t]});console.log("listProducts",v.products),v.Allproducts=s.clone(v.products),console.log("categoriesAC",v.categoriesAC)})},v.getProducts(),v.searchText&&(v.search.categories=[v.searchText.value]),v.openMenu=function(e,t){f=t,e(t)},c.$watch("productCtrl.searchR",function(e){switch(e){case"1":v.search={available:!0};break;case"2":v.search={available:!1};break;case"3":v.search={best_seller:!0};break;default:v.search=void 0}}),c.$watch("productCtrl.selectedItem",function(e,t){if(e){var r=s.filter(v.products,s.matches({categories:[e.value]}));v.products=s.clone(r)}else v.products=s.clone(v.Allproducts)}),c.onSwipeRight=function(e){g()},v.tableData={data:v.nutritionList,"column-keys":["name","calories","fat","carbs","protein","sodium","calcium","iron"]}}e.$inject=["productService","$mdSidenav","$mdBottomSheet","$timeout","$log","_","$scope","CartFactory","$mdToast","$mdDialog"],angular.module("andresshop.products").controller("ProductController",e)}(),function(){"use strict";function e(e,t,r){var a="http://www.mocky.io/v2/58115c3b3a0000a20d6098d4",o=function(t){return e(t,{},{get:{method:"GET",isArray:!1}})},s=function(e){a=e},c={getProducts:o,changeHttpServer:s,apiUrl:a};return c}e.$inject=["$resource","$q","BASE_API_URI"],angular.module("andresshop.products").service("productService",["$resource","$q",e])}(),function(){"use strict";function e(e){function t(t){var r=e.find(a,e.identity(t));void 0==r?(t.cant=1,t.subTotal=t.price,a.push(t)):(r.cant+=1,r.subTotal=r.cant*r.price)}function r(){a=[]}var a=[],o={confirm:confirm,addToCart:t,cartArray:a,cleanCart:r};return o}e.$inject=["_"],angular.module("andresshop.cart").factory("CartFactory",e)}();