!function(){"use strict";angular.module("andresshop",["ngMaterial","ngResource","angular-lodash","andresshop.products","ngRoute","mdDataTable","andresshop.cube","andresshop.persistence"]).config(["$mdThemingProvider","$mdIconProvider","$routeProvider","$locationProvider",function(e,t,r,a){r.when("/",{templateUrl:"main.html"}).when("/cart",{templateUrl:"cart.html"}).when("/cube",{templateUrl:"cube.html"}).when("/info",{templateUrl:"info.html"}),t.defaultIconSet("./assets/svg/avatars.svg",128).icon("star","./assets/svg/star.svg",24).icon("info","./assets/svg/info.svg",24).icon("cube","./assets/svg/cube.svg",24).icon("cart","./assets/svg/cart.svg",24).icon("error","./assets/svg/error.svg",24).icon("check","./assets/svg/check.svg",24).icon("filter","./assets/svg/filter.svg",24).icon("search","./assets/svg/search.svg",24).icon("add_cart","./assets/svg/add_cart.svg",24).icon("credit","./assets/svg/credit_card.svg",24).icon("remove_cart","./assets/svg/remove_cart.svg",24).icon("menu","./assets/svg/menu.svg",24).icon("share","./assets/svg/share.svg",24).icon("google_plus","./assets/svg/google_plus.svg",512).icon("hangouts","./assets/svg/hangouts.svg",512).icon("twitter","./assets/svg/twitter.svg",512).icon("phone","./assets/svg/phone.svg",512),e.theme("default").primaryPalette("deep-orange").accentPalette("blue").warnPalette("red"),e.enableBrowserColor({theme:"default",palette:"deep-orange",hue:"800"})}]).constant("_",window._)}(),function(){"use strict";angular.module("andresshop.cart",["ngMaterial"])}(),function(){"use strict";angular.module("andresshop.cube",["ngMessages"])}(),function(){"use strict";angular.module("andresshop.persistence",[])}(),function(){"use strict";angular.module("andresshop.products",["ngMaterial","andresshop.cart"])}(),function(){"use strict";function e(e){function t(t){var r=e.find(a,e.identity(t));void 0==r?(t.cant=1,t.subTotal=t.price,a.push(t)):(r.cant+=1,r.subTotal=r.cant*r.price)}function r(){a=[]}var a=[],o={confirm:confirm,addToCart:t,cartArray:a,cleanCart:r};return o}e.$inject=["_"],angular.module("andresshop.cart").factory("CartFactory",e)}(),function(){"use strict";function e(e,t){function r(){t.setStorage("matrixSize",c.matrixsize),c.previousMatrixSize=c.matrixsize;for(var e=0;e<c.matrixsize;e++){c.matrix[e]=[];for(var r=0;r<c.matrixsize;r++){c.matrix[e][r]=[];for(var a=0;a<c.matrixsize;a++)c.matrix[e][r][a]=0}}c.matrixCreated=!0,t.setMatrix(c.matrix)}function a(){c.matrix[c.positionX-1][c.positionY-1][c.positionZ-1]=c.value,t.setMatrix(c.matrix)}function o(){c.sumMatrixV=0;for(var e=c.begX-1;e<c.topX;e++)for(var r=c.begY-1;r<c.topY;r++)for(var a=c.begZ-1;a<c.topZ;a++)c.sumMatrixV+=c.matrix[e][r][a];t.setStorage("sumMatrixV",c.sumMatrixV)}function s(){t.setMatrix(),t.setStorage("sumMatrixV"),t.setStorage("matrixSize"),c.previousMatrixSize=void 0,c.matrixCreated=!1}var c=this,n=t.getMatrix();console.log("MATRIX",n),n?c.matrix=n:c.matrix=[],c.previousMatrixSize=t.getStorage("matrixSize"),c.sumMatrixV=t.getStorage("sumMatrixV"),c.matrixsize=t.getStorage("matrixSize"),c.matrixCreated=!1,c.sumMatrix=o,c.updateMatrix=a,c.generateMatrix=r,c.resetLocalStorage=s}e.$inject=["_","Persistence"],angular.module("andresshop.cube").controller("CubeController",e)}(),function(){"use strict";function e(e){function t(t){return e.localStorage.getItem(t)}function r(t,r){r?e.localStorage.setItem(t,r):e.localStorage.removeItem(t)}function a(t){t?e.localStorage.setItem("matrix",JSON.stringify(t)):e.localStorage.removeItem("matrix")}function o(t){return JSON.parse(e.localStorage.getItem("matrix"))}var s={getMatrix:o,setMatrix:a,getStorage:t,setStorage:r};return s}e.$inject=["$window"],angular.module("andresshop.persistence").factory("Persistence",e)}(),function(){"use strict";function e(e,t,r,a,o,s,c,n,i,u,l){function g(e){n.addToCart(e),f.showSimpleToast("Added to cart")}function d(){return s.sum(f.cartItems,function(e){return e.cant*e.price})}function m(){t("left").toggle(),console.log("lok",t("left").isLockedOpen())}function p(e){var t=e?f.categoriesAC.filter(v(e)):f.categoriesAC;return t}function v(e){var t=angular.lowercase(e);return function(e){return 0===e.value.indexOf(t)}}var f=this;f.search,f.searchR,f.orderBy=null,f.selected=null,f.products=[],f.categories=[],f.toggleList=m,f.apiUrl=e.apiUrl,f.searchText=null,f.selectedItem=null,f.categoriesAC=[],f.querySearch=p,f.searchProd=void 0;var h;f.addToCart=g,f.cartItems=n.cartArray,f.totalItem=d,f.isCart=!1,c.$on("$routeChangeSuccess",function(e,t,r){"/cart"==t.$$route.originalPath||"/cube"==t.$$route.originalPath?f.isCart=!0:f.isCart=!1}),f.showMessage=function(e){u.show(u.alert().clickOutsideToClose(!0).title("This is a Demo").textContent("You can not pay at this moment").ariaLabel("Dialog").ok("Got it!").targetEvent(e))},f.getNewProductsFromHttpServer=function(e){var t=u.confirm().title("Reset Cart").textContent("This will reset the carts contents and fetch new data").ariaLabel("Lucky day").targetEvent(e).ok("Ok ").cancel("Cancel");u.show(t).then(function(){n.cartArray.length=0,f.cleanProductVariables(),f.getProducts()},function(){})},f.changeAPI=function(e){var t=u.prompt().title("Place the Url of the API").placeholder("API Url").ariaLabel("API Url").initialValue("").targetEvent(e).ok("Go").cancel("Cancel");u.show(t).then(function(e){f.apiUrl=e,f.getNewProductsFromHttpServer()},function(){})},f.showSimpleToast=function(e){i.show(i.simple().textContent(e).position("top right").hideDelay(500))},f.deleteRowCallback=function(e){console.log("rows",e),s.remove(f.cartItems,function(t){return s.contains(e,t.id)}),console.log("items",f.cartItems)},f.cleanProductVariables=function(){f.products=[],f.categories=[],f.categoriesAC=[]},f.getProducts=function(){e.getProducts(f.apiUrl).get({}).$promise.then(function(e){f.products=e.products,f.categories=s.pluck(e.categories,"name");for(var t=0;t<f.products.length;t++){f.products[t].price=parseInt(f.products[t].price);for(var r=0;r<f.products[t].categories.length;r++)f.products[t].categories[r]=s.result(s.find(e.categories,function(e){return e.categori_id==f.products[t].categories[r]}),"name")}for(var t=0;t<f.categories.length;t++)f.categoriesAC.push({display:f.categories[t],value:f.categories[t]});console.log("listProducts",f.products),f.Allproducts=s.clone(f.products),console.log("categoriesAC",f.categoriesAC)})},f.getProducts(),f.searchText&&(f.search.categories=[f.searchText.value]),f.openMenu=function(e,t){h=t,e(t)},c.$watch("productCtrl.searchR",function(e){switch(f.products=s.clone(f.Allproducts),e){case"1":f.search={available:!0};break;case"2":f.search={available:!1};break;case"3":f.search={best_seller:!0};break;case"4":s.remove(f.products,function(e){return console.log("item",e.price),e.price<3e4});break;case"5":s.remove(f.products,function(e){return console.log("item",e.price),e.price>1e4});break;default:f.search=void 0}}),c.$watch("productCtrl.selectedItem",function(e,t){if(e){var r=s.filter(f.products,s.matches({categories:[e.value]}));f.products=s.clone(r)}else f.products=s.clone(f.Allproducts)}),c.onSwipeRight=function(e){m()},f.tableData={data:f.nutritionList,"column-keys":["name","calories","fat","carbs","protein","sodium","calcium","iron"]}}e.$inject=["productService","$mdSidenav","$mdBottomSheet","$timeout","$log","_","$scope","CartFactory","$mdToast","$mdDialog","$rootScope"],angular.module("andresshop.products").controller("ProductController",e)}(),function(){"use strict";function e(e,t,r){var a="http://www.mocky.io/v2/58115c3b3a0000a20d6098d4",o=function(t){return e(t,{},{get:{method:"GET",isArray:!1}})},s=function(e){a=e},c={getProducts:o,changeHttpServer:s,apiUrl:a};return c}e.$inject=["$resource","$q","BASE_API_URI"],angular.module("andresshop.products").service("productService",["$resource","$q",e])}();