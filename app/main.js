!function(){"use strict";angular.module("andresshop",["ngMaterial","ngResource","angular-lodash","andresshop.products","ngRoute","mdDataTable","andresshop.cube"]).config(["$mdThemingProvider","$mdIconProvider","$routeProvider","$locationProvider",function(e,t,r,o){r.when("/",{templateUrl:"main.html"}).when("/cart",{templateUrl:"cart.html"}).when("/cube",{templateUrl:"cube.html"}),t.defaultIconSet("./assets/svg/avatars.svg",128).icon("star","./assets/svg/star.svg",24).icon("cart","./assets/svg/cart.svg",24).icon("error","./assets/svg/error.svg",24).icon("check","./assets/svg/check.svg",24).icon("filter","./assets/svg/filter.svg",24).icon("search","./assets/svg/search.svg",24).icon("add_cart","./assets/svg/add_cart.svg",24).icon("credit","./assets/svg/credit_card.svg",24).icon("remove_cart","./assets/svg/remove_cart.svg",24).icon("menu","./assets/svg/menu.svg",24).icon("share","./assets/svg/share.svg",24).icon("google_plus","./assets/svg/google_plus.svg",512).icon("hangouts","./assets/svg/hangouts.svg",512).icon("twitter","./assets/svg/twitter.svg",512).icon("phone","./assets/svg/phone.svg",512),e.theme("default").primaryPalette("deep-orange").accentPalette("blue").warnPalette("red"),e.enableBrowserColor({theme:"default",palette:"deep-orange",hue:"800"})}]).constant("_",window._)}(),function(){"use strict";angular.module("andresshop.cart",["ngMaterial"])}(),function(){"use strict";angular.module("andresshop.cube",["ngMessages"])}(),function(){"use strict";angular.module("andresshop.products",["ngMaterial","andresshop.cart"])}(),function(){"use strict";function e(e){function t(t){var r=e.find(o,e.identity(t));void 0==r?(t.cant=1,t.subTotal=t.price,o.push(t)):(r.cant+=1,r.subTotal=r.cant*r.price)}function r(){o=[]}var o=[],a={confirm:confirm,addToCart:t,cartArray:o,cleanCart:r};return a}e.$inject=["_"],angular.module("andresshop.cart").factory("CartFactory",e)}(),function(){"use strict";function e(e){function t(){for(var e=0;e<a.matrixsize;e++){a.matrix[e]=[];for(var t=0;t<a.matrixsize;t++){a.matrix[e][t]=[];for(var r=0;r<a.matrixsize;r++)a.matrix[e][t][r]=0}}a.matrixCreated=!0}function r(){a.matrix[a.positionX-1][a.positionY-1][a.positionZ-1]=a.value,a.positionX=a.positionY=a.positionZ=a.value=void 0}function o(){a.sumMatrixV=0;for(var e=a.begX-1;e<a.topX;e++)for(var t=a.begY-1;t<a.topY;t++)for(var r=a.begZ-1;r<a.topZ;r++)a.sumMatrixV+=a.matrix[e][t][r]}var a=this;a.matrix=[],a.sumMatrixV=0,a.matrixsize=0,a.matrixCreated=!1,a.sumMatrix=o,a.updateMatrix=r,a.generateMatrix=t}e.$inject=["_"],angular.module("andresshop.cube").controller("CubeController",e)}(),function(){"use strict";function e(e,t,r,o,a,s,c,n,i,u,l){function d(e){n.addToCart(e),m.showSimpleToast("Added to cart")}function g(){return s.sum(m.cartItems,function(e){return e.cant*e.price})}function p(){t("left").toggle(),console.log("lok",t("left").isLockedOpen())}function h(e){var t=e?m.categoriesAC.filter(v(e)):m.categoriesAC;return t}function v(e){var t=angular.lowercase(e);return function(e){return 0===e.value.indexOf(t)}}var m=this;m.search,m.searchR,m.orderBy=null,m.selected=null,m.products=[],m.categories=[],m.toggleList=p,m.apiUrl=e.apiUrl,m.searchText=null,m.selectedItem=null,m.categoriesAC=[],m.querySearch=h,m.searchProd=void 0;var f;m.addToCart=d,m.cartItems=n.cartArray,m.totalItem=g,m.isCart=!1,c.$on("$routeChangeSuccess",function(e,t,r){"/cart"==t.$$route.originalPath||"/cube"==t.$$route.originalPath?m.isCart=!0:m.isCart=!1}),m.showMessage=function(e){u.show(u.alert().clickOutsideToClose(!0).title("This is a Demo").textContent("You can not pay at this moment").ariaLabel("Dialog").ok("Got it!").targetEvent(e))},m.getNewProductsFromHttpServer=function(e){var t=u.confirm().title("Reset Cart").textContent("This will reset the carts contents and fetch new data").ariaLabel("Lucky day").targetEvent(e).ok("Ok ").cancel("Cancel");u.show(t).then(function(){n.cartArray.length=0,m.cleanProductVariables(),m.getProducts()},function(){})},m.changeAPI=function(e){var t=u.prompt().title("Place the Url of the API").placeholder("API Url").ariaLabel("API Url").initialValue("").targetEvent(e).ok("Go").cancel("Cancel");u.show(t).then(function(e){m.apiUrl=e,m.getNewProductsFromHttpServer()},function(){})},m.showSimpleToast=function(e){i.show(i.simple().textContent(e).position("top right").hideDelay(500))},m.deleteRowCallback=function(e){console.log("rows",e),s.remove(m.cartItems,function(t){return s.contains(e,t.id)}),console.log("items",m.cartItems)},m.cleanProductVariables=function(){m.products=[],m.categories=[],m.categoriesAC=[]},m.getProducts=function(){e.getProducts(m.apiUrl).get({}).$promise.then(function(e){m.products=e.products,m.categories=s.pluck(e.categories,"name");for(var t=0;t<m.products.length;t++){m.products[t].price=parseInt(m.products[t].price);for(var r=0;r<m.products[t].categories.length;r++)m.products[t].categories[r]=s.result(s.find(e.categories,function(e){return e.categori_id==m.products[t].categories[r]}),"name")}for(var t=0;t<m.categories.length;t++)m.categoriesAC.push({display:m.categories[t],value:m.categories[t]});console.log("listProducts",m.products),m.Allproducts=s.clone(m.products),console.log("categoriesAC",m.categoriesAC)})},m.getProducts(),m.searchText&&(m.search.categories=[m.searchText.value]),m.openMenu=function(e,t){f=t,e(t)},c.$watch("productCtrl.searchR",function(e){switch(m.products=s.clone(m.Allproducts),e){case"1":m.search={available:!0};break;case"2":m.search={available:!1};break;case"3":m.search={best_seller:!0};break;case"4":s.remove(m.products,function(e){return console.log("item",e.price),e.price<3e4});break;case"5":s.remove(m.products,function(e){return console.log("item",e.price),e.price>1e4});break;default:m.search=void 0}}),c.$watch("productCtrl.selectedItem",function(e,t){if(e){var r=s.filter(m.products,s.matches({categories:[e.value]}));m.products=s.clone(r)}else m.products=s.clone(m.Allproducts)}),c.onSwipeRight=function(e){p()},m.tableData={data:m.nutritionList,"column-keys":["name","calories","fat","carbs","protein","sodium","calcium","iron"]}}e.$inject=["productService","$mdSidenav","$mdBottomSheet","$timeout","$log","_","$scope","CartFactory","$mdToast","$mdDialog","$rootScope"],angular.module("andresshop.products").controller("ProductController",e)}(),function(){"use strict";function e(e,t,r){var o="http://www.mocky.io/v2/58115c3b3a0000a20d6098d4",a=function(t){return e(t,{},{get:{method:"GET",isArray:!1}})},s=function(e){o=e},c={getProducts:a,changeHttpServer:s,apiUrl:o};return c}e.$inject=["$resource","$q","BASE_API_URI"],angular.module("andresshop.products").service("productService",["$resource","$q",e])}();