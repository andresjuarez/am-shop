!function(){"use strict";angular.module("andresshop",["ngMaterial","ngResource","angular-lodash","andresshop.products","ngRoute","mdDataTable"]).config(["$mdThemingProvider","$mdIconProvider","$routeProvider","$locationProvider",function(e,t,r,o){r.when("/",{templateUrl:"main.html"}).when("/cart",{templateUrl:"cart.html"}),t.defaultIconSet("./assets/svg/avatars.svg",128).icon("star","./assets/svg/star.svg",24).icon("cart","./assets/svg/cart.svg",24).icon("error","./assets/svg/error.svg",24).icon("check","./assets/svg/check.svg",24).icon("filter","./assets/svg/filter.svg",24).icon("search","./assets/svg/search.svg",24).icon("add_cart","./assets/svg/add_cart.svg",24).icon("credit","./assets/svg/credit_card.svg",24).icon("remove_cart","./assets/svg/remove_cart.svg",24).icon("menu","./assets/svg/menu.svg",24).icon("share","./assets/svg/share.svg",24).icon("google_plus","./assets/svg/google_plus.svg",512).icon("hangouts","./assets/svg/hangouts.svg",512).icon("twitter","./assets/svg/twitter.svg",512).icon("phone","./assets/svg/phone.svg",512),e.theme("default").primaryPalette("deep-orange").accentPalette("blue").warnPalette("red"),e.enableBrowserColor({theme:"default",palette:"deep-orange",hue:"800"})}]).constant("_",window._)}(),function(){"use strict";angular.module("andresshop.cart",["ngMaterial"])}(),function(){"use strict";angular.module("andresshop.products",["ngMaterial","andresshop.cart"])}(),function(){"use strict";function e(e){function t(t){var r=e.find(o,e.identity(t));void 0==r?(t.cant=1,t.subTotal=t.price,o.push(t)):(r.cant+=1,r.subTotal=r.cant*r.price)}function r(){o=[]}var o=[],a={confirm:confirm,addToCart:t,cartArray:o,cleanCart:r};return a}e.$inject=["_"],angular.module("andresshop.cart").factory("CartFactory",e)}(),function(){"use strict";function e(e,t,r,o,a,s,c,n,i,l,u){function d(e){n.addToCart(e),f.showSimpleToast("Added to cart")}function g(){return s.sum(f.cartItems,function(e){return e.cant*e.price})}function p(){t("left").toggle(),console.log("lok",t("left").isLockedOpen())}function h(e){var t=e?f.categoriesAC.filter(v(e)):f.categoriesAC;return t}function v(e){var t=angular.lowercase(e);return function(e){return 0===e.value.indexOf(t)}}var f=this;f.search,f.searchR,f.orderBy=null,f.selected=null,f.products=[],f.categories=[],f.toggleList=p,f.apiUrl=e.apiUrl,f.searchText=null,f.selectedItem=null,f.categoriesAC=[],f.querySearch=h,f.searchProd=void 0;var m;f.addToCart=d,f.cartItems=n.cartArray,f.totalItem=g,f.isCart=!1,c.$on("$routeChangeSuccess",function(e,t,r){"/cart"==t.$$route.originalPath?f.isCart=!0:f.isCart=!1}),f.showMessage=function(e){l.show(l.alert().clickOutsideToClose(!0).title("This is a Demo").textContent("You can not pay at this moment").ariaLabel("Dialog").ok("Got it!").targetEvent(e))},f.getNewProductsFromHttpServer=function(e){var t=l.confirm().title("Reset Cart").textContent("This will reset the carts contents and fetch new data").ariaLabel("Lucky day").targetEvent(e).ok("Ok ").cancel("Cancel");l.show(t).then(function(){n.cartArray.length=0,f.cleanProductVariables(),f.getProducts()},function(){})},f.changeAPI=function(e){var t=l.prompt().title("Place the Url of the API").placeholder("API Url").ariaLabel("API Url").initialValue("").targetEvent(e).ok("Go").cancel("Cancel");l.show(t).then(function(e){f.apiUrl=e,f.getNewProductsFromHttpServer()},function(){})},f.showSimpleToast=function(e){i.show(i.simple().textContent(e).position("top right").hideDelay(500))},f.deleteRowCallback=function(e){console.log("rows",e),s.remove(f.cartItems,function(t){return s.contains(e,t.id)}),console.log("items",f.cartItems)},f.cleanProductVariables=function(){f.products=[],f.categories=[],f.categoriesAC=[]},f.getProducts=function(){e.getProducts(f.apiUrl).get({}).$promise.then(function(e){f.products=e.products,f.categories=s.pluck(e.categories,"name");for(var t=0;t<f.products.length;t++){f.products[t].price=parseInt(f.products[t].price);for(var r=0;r<f.products[t].categories.length;r++)f.products[t].categories[r]=s.result(s.find(e.categories,function(e){return e.categori_id==f.products[t].categories[r]}),"name")}for(var t=0;t<f.categories.length;t++)f.categoriesAC.push({display:f.categories[t],value:f.categories[t]});console.log("listProducts",f.products),f.Allproducts=s.clone(f.products),console.log("categoriesAC",f.categoriesAC)})},f.getProducts(),f.searchText&&(f.search.categories=[f.searchText.value]),f.openMenu=function(e,t){m=t,e(t)},c.$watch("productCtrl.searchR",function(e){switch(f.products=s.clone(f.Allproducts),e){case"1":f.search={available:!0};break;case"2":f.search={available:!1};break;case"3":f.search={best_seller:!0};break;case"4":s.remove(f.products,function(e){return console.log("item",e.price),e.price<3e4});break;case"5":s.remove(f.products,function(e){return console.log("item",e.price),e.price>1e4});break;default:f.search=void 0}}),c.$watch("productCtrl.selectedItem",function(e,t){if(e){var r=s.filter(f.products,s.matches({categories:[e.value]}));f.products=s.clone(r)}else f.products=s.clone(f.Allproducts)}),c.onSwipeRight=function(e){p()},f.tableData={data:f.nutritionList,"column-keys":["name","calories","fat","carbs","protein","sodium","calcium","iron"]}}e.$inject=["productService","$mdSidenav","$mdBottomSheet","$timeout","$log","_","$scope","CartFactory","$mdToast","$mdDialog","$rootScope"],angular.module("andresshop.products").controller("ProductController",e)}(),function(){"use strict";function e(e,t,r){var o="http://www.mocky.io/v2/58115c3b3a0000a20d6098d4",a=function(t){return e(t,{},{get:{method:"GET",isArray:!1}})},s=function(e){o=e},c={getProducts:a,changeHttpServer:s,apiUrl:o};return c}e.$inject=["$resource","$q","BASE_API_URI"],angular.module("andresshop.products").service("productService",["$resource","$q",e])}();